<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="author" content="tzungtzu" />
    
    <title>Integrate Spark(Scala & PySpark) with Jupiter Notebook</title>
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/atom.xml" rel="alternate" title="setImpl" type="application/atom+xml" />
    <link rel="stylesheet" href="/media/css/style.css">
    <link rel="stylesheet" href="/media/css/github.css">
<!--     <link rel="styesheet" href="/media/css/folder/popup.css"> -->
    <script type="text/javascript" src="/media/js/highlight.pack.js"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
    <script src="https://cdn1.lncld.net/static/js/av-mini-0.6.10.js"></script>
    <script src="http://jerry-cdn.b0.upaiyun.com/hit-kounter/hit-kounter-lc-0.2.0.js"></script>


  <!-- mathjax config similar to math.stackexchange -->  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          }
        });
    </script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

    <script type="text/javascript"
       src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
	  

  </head>
  <body>
<!--   <script src="/media/js/folder/jquery.popup.min.js"></script> -->
      <div id="main" role="main">
        <header>
          <div id="header">
            <h1><a title="zongwei" class="" href="/">TZUNGTZU</a></h1>
            <nav>
			  <span><a title="BLOG" class="" href="/blog/">BLOG</a></span>
              <span><a title="ÊñáÁ´†ÂΩíÊ°£" class="" href="/archive.html">Archive</a></span>
			  <!-- 
              <span><a title="ÊñáÁ´†ÂàÜÁ±ª" class="" href="/category.html">Category</a></span>
			   -->
              <span><a title="Ê†áÁ≠æ" class="" href="/tags.html">Tags</a></span>
              <span><a title="ÈìæÊé•" class="" href="/links.html">Links</a></span>              
              <span><a title="Áõ∏ÂÜå" class="" href="https://www.instagram.com/tzungtzu/">Gallery</a></span>
              <span><a title="ÂÖ≥‰∫é" class="" href="/about.html">About</a></span>
              <span><a title="subscribe me" class="" href="/atom.xml">Feed</a></span>
              
            </nav>
          </div>
        </header>
		
		
        <div id="content">
        <article>
  <section class="title">
    <h2>Integrate Spark(Scala & PySpark) with Jupiter Notebook </h2>
  </section>
  <section class="meta">
	<span class="time">
    <time datetime="2017-02-28">2017-02-28</time>
  </span>
  

<span class="categories">
	Published in categories
  
  <a href="/category.html#blog" title="blog">blog</a>&nbsp;
  
  <a href="/category.html#Technology" title="Technology">Technology</a>&nbsp;
  
</span>


  
  <span class="tags">
   tagged with 
    
    <a href="/tags.html#Jupyter Notebook" title="Jupyter Notebook">#Jupyter Notebook</a>&nbsp;
    
    <a href="/tags.html#Spark" title="Spark">#Spark</a>&nbsp;
    
    <a href="/tags.html#Scala" title="Scala">#Scala</a>&nbsp;
    
    <a href="/tags.html#Toree" title="Toree">#Toree</a>&nbsp;
    
  </span>
  
  </section>
  <section class="post">
  <p>Jupyer Notebook is an interactive notebook environment and it supports Spark.</p>

<h3 id="1--jupyter-notebook-installation">1 . jupyter Notebook installation</h3>

<h3 id="2--scala-spark-installation">2 . Scala, Spark installation</h3>

<h3 id="3--toree-installation">3 . <strong>Toree installation</strong></h3>

<p>Apache Toree is tool to configure Jupiter notebook to run with Spark.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$sudo pip install -i http://pypi.anaconda,org/hyoon/simple toree
</code></pre></div></div>

<p><!--more--></p>

<h3 id="4--configure-different-apache-toree-kernels">4 . Configure different Apache Toree kernels</h3>

<p>for Scala:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$jupyter toree install spark_home=~/data/spark-2.0.1-bin-hadoop2.6/
</code></pre></div></div>

<p>for PySpark:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$jupyter toree install --spark_home=~/data/spark-2.0.1-bin-hadoop2.6/  --interpreters=PySpark
</code></pre></div></div>

<p>even SparkR, SQL</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$Jupyter toree install --interpreter=SparkR,SQL
</code></pre></div></div>

<h3 id="5---and-you-can-check-installation-by">5 .  and you can Check installation by</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$jupyter kernelspec list
</code></pre></div></div>

<h3 id="6-add-3rd-party-libraries">6. add 3rd Party Libraries</h3>
<ol>
  <li>List all packages you will use.</li>
</ol>

<p>SPARK_PKGS=$(cat ¬´¬†END | xargs echo | sed ‚Äòs/ /,/g‚Äô
neo4j-contrib:neo4j-spark-connector:2.0.0-M2
graphframes:graphframes:0.5.0-spark2.0-s_2.11
END)</p>

<ol>
  <li>Define SPARK_OPTS and SPARK_HOME.</li>
</ol>

<p>SPARK_OPTS=‚Äù‚Äìpackages=$SPARK_PKGS‚Äù
SPARK_HOME=~/data/spark-2.0.1-bin-hadoop2.6/</p>

<ol>
  <li>Configure Toree to use these packages.</li>
</ol>

<p>sudo jupyter toree install \
  ‚Äìspark_home=$SPARK_HOME \
  ‚Äìspark_opts=$SPARK_OPTS</p>

<p>Adding Remote Packages
You can use Apache Toree‚Äôs AddDeps magic to add dependencies from Maven central. You must specify the company name, artifact ID, and version. To resolve any transitive dependencies, you must explicitly specify the ‚Äìtransitive flag.</p>

<h3 id="references">references:</h3>

<ol>
  <li><a href="https://toree.incubator.apache.org/documentation/user/installation.html" title="Apache Toree Installation">https://toree.incubator.apache.org/documentation/user/installation.html</a></li>
  <li><a href="http://stackoverflow.com/questions/39149541/integrate-pyspark-with-jupyter-notebook" title=" solution is to install Apache Toree.">http://stackoverflow.com/questions/39149541/integrate-pyspark-with-jupyter-notebook</a></li>
</ol>

<details>
<summary> More details</summary>

Detail test


</details>


  </section>
  <section class="comment">
<div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'tzungtzu'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
       
         <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tzungtzu'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        </script>
  </section> 
</article>

        </div>



		
        <footer>&copy; 2011 ~ 2017 ‚ô• tzungtzu | powered by jekyll | themed by <a href="http://lhzhang.com" title="sext iv">sext iv</a> | üï∂Ô∏è <span data-hk-page="current"> - </span> hits<span class="pause"> | </span>
        <div><span></span></div>
        </footer>
      </div> <!-- main -->
      
<!--       Á´ôÈïøÁªüËÆ°cnzz -->
      <script src="https://s11.cnzz.com/z_stat.php?id=1260991989&web_id=1260991989" language="JavaScript"></script>
      <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1260991989'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/z_stat.php%3Fid%3D1260991989' type='text/javascript'%3E%3C/script%3E"));</script>
  </body>
</html>
